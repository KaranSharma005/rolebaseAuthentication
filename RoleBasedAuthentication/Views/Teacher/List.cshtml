@using RoleBasedAuthentication.Models.Enums;
@using RoleBasedAuthentication.Services;
@model List<TeacherDetailModel>


<table class="table table-striped table-dark table-hover" id="teacher-table" >
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Subject</th>
            <th scope="col">Class</th>
            <th scope="col">Action</th>
            <th scope="col">Status</th>
        </tr>
    </thead>
    <tbody>
        @if (Model != null)
        {
            foreach (var teacher in Model)
            {
                <tr>
                    <td>@teacher.Name</td>
                    <td>@teacher.UserName</td>
                    <td>@(teacher.SubjectId != null ? ((Subjects)teacher.SubjectId).GetEnumDisplayName() : "-")</td>
                    <td>@(teacher.className ?? "-")</td>
                    <td>
                        <div class="d-flex gap-2">
                            <button type="button" class="btn btn-primary btn-sm editButton" data-user="@teacher?.Id"
                                    @(teacher?.status == true ? "" : "disabled")>
                                Edit
                            </button>

                            @if (teacher?.status == true)
                            {
                                <button type="button" class="btn btn-danger btn-sm disableBtn" data-user="@teacher?.Id">
                                    Disable User
                                </button>
                                <button type="button" class="btn btn-outline-primary loginasBtn" data-user="@teacher?.Id">Login As</button>
                            }
                            else
                            {
                                <button type="button" class="btn btn-danger btn-sm enableBtn" data-user="@teacher?.Id">
                                    Enable User
                                </button>
                            }
                        </div>
                    </td>
                    <td>@(teacher?.status == true ? "Active" : "Inactive")</td>
                </tr>
            }
        }
    </tbody>
</table>
